<div>
    <h2>Flight Form</h2>
    <form [formGroup]="flightForm" (ngSubmit)="onSubmit()">

        <label>
        <input type="radio" value="oneWay" formControlName="tripType"> One-way
        </label>

        <label>
        <input type="radio" value="multiStop" formControlName="tripType"> Multiple destinations
        </label>

        <div>
            <label>Origin</label>
            <input formControlName="origin">
            <!-- Here you can display validation errors for the origin field -->
        </div>

        <div>
            <label>Destination</label>
            <input formControlName="destination">
            <!-- Here you can display validation errors for the destination field -->
        </div>


        <!-- Added more fields dynamically for multiple destinations -->
        <div formArrayName="intermediaryDestinations" *ngIf="flightForm.get('tripType')?.value === 'multiStop'">
            <div *ngFor="let intermediaryDestination of getIntermediaryDestinations.controls; let i = index" [formGroupName]="i">
                <div>
                    <label>New Origin {{ i + 1 }}</label>
                    <input formControlName="newOrigin" [value]="flightForm.get('destination')?.value">
                </div>
                <div>
                    <label>New Destination {{ i + 1 }}</label>
                    <input formControlName="newDestination">
                </div>

                <button (click)="removeIntermediaryDestination(i)">Remove this stop</button>
            </div>
        </div>


        <button *ngIf="flightForm.get('tripType')?.value === 'multiStop'" (click)="addIntermediaryDestination()">Add Origin and Destination</button>


        <button type="submit">Find route</button>

    </form>
</div>